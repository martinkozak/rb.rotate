# YAML

hooks:
    something: /path/to/some/script

dirs:
 
    ##
    # Default directory must be set.
    #
        
    default:
        directory: ./test/log
        target: ./archive
        
        ##
        # Says which command use for compressing the log. It must 
        # support the same base syntax and '<command> <file>' order
        # as gzip and bzip2. You can specify it both as path or simply 
        # shell command.
        #
        # Default value:
        #   nothing
        #
        
        compress: gzip
        
        rotate: 5
        
        # default: (nothing)
        # possible: 
        #   - monthly 
        #   - weekly
        #   - daily 
        #   - hourly
        
        type: weekly
        
        ##
        # Guards maximal size of the log. Log is bigger than this value,
        # rotates it. But it keeps other archived logs lifetime, so although 
        # log has been rotated prematurely and number of logs in archive is
        # bigger then 'rotate' settings, it will keep all because 'rotate'
        # settings means only number of 'type' units for keeping the log,
        # nothing more.
        #
        # You can use base units here: 'K', 'M' and 'G' which mean 
        # appropriate quantity of kilobytes, megabytes and gigabytes.
        #
        # Default value:
        #   nothing
        #
        
        max size: 20M
        
        ##
        # Says by which actions archive. Some daemons keep logs open, so 
        # there is necessary to copy the old log and truncate the file.
        #
        # Be warn, this option works by "programmable" way. Tokens are 
        # evaluated in the order and without thinking about the right sense.
        # So for example 'copy + move' will cause error because of moving 
        # the log to the existing file from previous copying, or 
        # 'truncate + copy' will truncate the file and thereafter copy empty
        # file to archive location which probably isn't the required 
        # behaviour.
        #
        # It's possible to create chains, it isn't limited by number of two
        # operations. Multiline can be achieved by standard YAML syntax.
        # Chains are very useful for hooks.
        #
        # HOOKS
        #
        # But you can use hooks. Hook will get path to file generated by 
        # preceding operation as parameter, so it will get for example
        # path to new file in archive in case of 'copy' or 'move' or name of
        # the old file after 'truncate' or 'create'. Hook placed just after 
        # another hook will get standard output of the preceding hook.
        #
        #
        # Possible values:
        #   - move
        #   - create
        #   - truncate
        #   - copy
        #   - hook:<hook name>
        #
        # Default value:
        #   move + create
        #
        
        action: move + create 
