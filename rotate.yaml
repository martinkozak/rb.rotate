# YAML

hooks:
    something: /path/to/some/script %filepath

dirs:
 
    ##
    # Default directory must be set.
    #
        
    default:
    
        ##
        # Directory from which will be logs archived. Recursive 
        # parameter says if it will be performed in subdirs.
        #
        # Default value:
        #   /var/log
        #
        
        directory: ./test/log
        
        ##
        # Says if archiving will be performed in subdirs of the 
        # 'directory' too. It's boolean value, but third value is 'flat'
        # which means, files from subdirs will be archived without 
        # respecting the old structure directly to the 'archive' 
        # directory. In otherwise, original subdirectory structure will 
        # be respected.
        #
        # Possible values:
        #   - true
        #   - false
        #   - flat
        #
        # Default value:
        #   true
        #
        
        recursive: true
        
        ##
        # Says, it should follow symbolic links by transparent way. In 
        # storage, they will be handled as normal files and dirs. If 
        # false, they will be silently ignored.
        #
        # Default value:
        #   true
        #
        
        follow: true
        
        ##
        # Directory to which will be logs archived.
        #
        # Default value:
        #   /var/log
        #   
        
        storage: ./archive
        
        ##
        # Says which command use for compressing the log. It must 
        # support the same base syntax and '<command> <file>' order
        # as gzip and bzip2. You can specify it both as path or simply 
        # shell command.
        #
        # Default value:
        #   nothing
        #
        
        compress: gzip
        
        ##
        # Says logs from which period it will keep accroding to 'type' 
        #Â option. So for example rotate settings '5' of the type 
        # 'weekly' means it will keep logs from five weeks.
        # 
        # Default value:
        #   5
        #
        
        rotate: 5
        
        # default: (nothing)
        # possible: 
        #   - monthly 
        #   - weekly
        #   - daily 
        #   - hourly
        
        type: weekly
        
        ##
        # Guards maximal size of the log. Log is bigger than this value,
        # rotates it. But it keeps other archived logs lifetime, so although 
        # log has been rotated prematurely and number of logs in archive is
        # bigger then 'rotate' settings, it will keep all because 'rotate'
        # settings means only number of 'type' units for keeping the log,
        # nothing more.
        #
        # You can use base units here: 'K', 'M' and 'G' which mean 
        # appropriate quantity of kilobytes, megabytes and gigabytes.
        #
        # Default value:
        #   nothing
        #
        
        max size: 20M
        
        ##
        # Says by which actions archive. Some daemons keep logs open, so 
        # there is necessary to copy the old log and truncate the file.
        #
        # Be warn, this option works by "programmable" way. Tokens are 
        # evaluated in the order and without thinking about the right sense.
        # So for example 'copy + move' will cause error because of moving 
        # the log to the existing file from previous copying, or 
        # 'truncate + copy' will truncate the file and thereafter copy empty
        # file to archive location which probably isn't the required 
        # behaviour.
        #
        # It's possible to create chains, it isn't limited by number of two
        # operations. Multiline can be achieved by standard YAML syntax.
        # Chains are very useful for hooks.
        #
        # HOOKS
        #
        # But you can use hooks. Hook will get path to the file 
        # generated by preceding built-in operation as parameter 
        # %filepath, so it will get for example path to new file in 
        # archive in case of 'copy' or 'move' or name of the old file 
        # after 'truncate' or 'create'. Hook placed just after 
        # another hook will get parameters defined by YAML encoded 
        # hash array.
        #
        #
        # Possible values:
        #   - move
        #   - create
        #   - truncate
        #   - copy
        #   - hook:<hook name>
        #
        # Default value:
        #   move + create
        #
        
        action: move + create 
